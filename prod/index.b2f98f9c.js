async function e(e){var t=document.getElementById("fav-div");let n=new URL("https://api.fyyd.de/0.2/podcast/episodes");n.searchParams.append("podcast_id",e),n.searchParams.append("count",1),console.log("URL:",n.href);try{let a=await fetch(n),o=await a.json();console.log(o.data.episodes.length);let d=document.createElement("div"),l=document.createElement("img"),c=document.createElement("h4"),r=document.createElement("a");r.href=`podcastDash.html?id=${encodeURIComponent(e)}`,r.target="_blank",c.innerHTML=function(e,t){let n=e.split(" ");return n.length>6?n.slice(0,6).join(" "):e}(o.data.episodes[0].title,6),l.src=o.data.layoutImageURL,d.appendChild(l),d.appendChild(c),r.appendChild(d),t.appendChild(r)}catch(e){console.error("Error fetching recommended podcasts:",e),document.getElementById("podcast-list").innerHTML='<p class="loading-message">Fehler beim Laden empfohlener Podcasts. Bitte probiere es später nochmal.</p>'}}async function t(e,n){d();let a=new URL("https://api.fyyd.de/0.2/search/podcast/");a.searchParams.append("title",e),a.searchParams.append("page",n),console.log("URL:",a.href);let o=document.getElementById("search");0===n&&(o.innerHTML='<p class="loading-message suche">Suche läuft...</p>');let c=document.getElementById("more-btn-search");c&&c.parentNode.removeChild(c);let r=document.createElement("p");0!=n&&(r.textContent="Ergebnisse werden geladen..."),r.setAttribute("id","loading-message"),o.appendChild(r);try{let d=await fetch(a),l=await d.json();!function(e,t){let n=document.getElementById("search");0===t&&(n.innerHTML=""),e.data.forEach(e=>{let t=document.createElement("div"),a=document.createElement("h4"),o=document.createElement("img"),d=document.createElement("a");a.textContent=e.title,o.src=e.layoutImageURL,o.className="img",d.appendChild(o),d.appendChild(a),d.href=`podcastDash.html?id=${encodeURIComponent(e.id)}`,d.target="_blank",t.appendChild(d),n.appendChild(t)})}(l,n);let c=document.getElementById("loading-message");if(c&&c.remove(),l.data.length>0){let a=document.createElement("button");a.className="more-button",a.style="border: none; background: white;",a.setAttribute("id","more-btn-search"),a.addEventListener("click",function(){console.log("moreBtn"),t(e,n+1)});let d=document.createElement("img");d.src="images/arrow_right.png",d.style="height: 90px; margin-bottom: 125px; padding-left: 40px",a.appendChild(d),o.appendChild(a)}else o.innerHTML="Keine weiteren Ergebnisse."}catch(e){console.error("Error fetching podcasts:",e),o.innerHTML='<p class="loading-message">Fehler beim Laden von Podcasts. Bitte probiere es später nochmal.</p>'}l()}async function n(){d();let e=new URL("https://api.fyyd.de/0.2/podcasts/");e.searchParams.append("page",Math.floor(1370*Math.random())),e.searchParams.append("count",30),console.log("URL:",e.href);try{let t=await fetch(e),n=await t.json();!function(e){let t=document.getElementById("podcast-list");t.innerHTML="",e.data.forEach(e=>{let n=document.createElement("div"),a=document.createElement("h4");document.createElement("p");let o=document.createElement("img"),d=document.createElement("a");a.textContent=e.title,o.src=e.layoutImageURL,o.className="img",d.appendChild(o),d.appendChild(a),d.href=`podcastDash.html?id=${encodeURIComponent(e.id)}`,n.appendChild(d),t.appendChild(n)})}(n)}catch(e){console.error("Error fetching recommended podcasts:",e),document.getElementById("podcast-list").innerHTML='<p class="loading-message">Fehler beim Laden empfohlener Podcasts. Bitte probiere es später nochmal.</p>'}l()}async function a(){let e=new URL("https://api.fyyd.de/0.2/categories");console.log("URL:",e.href);try{let a=await fetch(e),d=await a.json(),l=document.getElementById("categoryContainer");l.innerHTML="";let c=document.createElement("div"),r=d.data.length;var t=0,n=Math.floor(Math.random()*r+1);console.log(n),d.data.forEach(e=>{let a=document.createElement("input");a.setAttribute("type","button"),a.setAttribute("value",e.name_de),a.className="category-button",++t===n&&(console.log("fetching"+e.name_de),o(e.id,e.name_de,0)),a.addEventListener("click",function(){o(e.id,e.name_de,0)}),c.appendChild(a)}),l.appendChild(c)}catch(e){console.error("Error fetching categories:",e),document.getElementById("categoryContainer").innerHTML='<p class="loading-message">Fehler beim Laden von Kategorien. Bitte probiere es später nochmal.</p>'}}async function o(e,t,n){d();let a=new URL("https://api.fyyd.de/0.2/category");a.searchParams.append("category_id",e),a.searchParams.append("page",n),console.log("URL:",a.href),document.getElementById("category-search-monitor").innerHTML=t;let c=document.getElementById("categoryResult");if(0===n)c.innerHTML='<p class="loading-message">Inhalte der Kategorie '+t+" werden geladen...</p>";else{let e=document.getElementById("more-btn");e&&c.removeChild(e);let t=document.createElement("p");t.textContent="Weitere Podcasts werden geladen...",t.setAttribute("id","loading-message"),c.appendChild(t)}try{let d=await fetch(a),l=await d.json();!function(e,t){let n=document.getElementById("categoryResult");t&&(n.innerHTML=""),e.data.podcasts.forEach(e=>{let t=document.createElement("div"),a=document.createElement("h4"),o=document.createElement("img"),d=document.createElement("a");a.textContent=e.title,o.src=e.layoutImageURL,o.className="img",d.appendChild(o),d.appendChild(a),d.href=`podcastDash.html?id=${encodeURIComponent(e.id)}&title=${encodeURIComponent(e.title)}&description=${encodeURIComponent(e.description)}&image=${encodeURIComponent(e.layoutImageURL)}`,d.target="_blank",t.appendChild(d),n.appendChild(t)})}(l,0===n);let r=document.getElementById("loading-message");r&&c.removeChild(r);let i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("id","more-btn"),i.style="border: none; background: white;",i.addEventListener("click",function(){console.log("moreBtn"),o(e,t,n+1)});let s=document.createElement("img");s.src="images/arrow_right.png",s.style.height="90px",s.style.marginBottom="140px",s.style.paddingLeft="40px",i.appendChild(s),c.appendChild(i)}catch(e){console.error("Error fetching category podcasts:",e),document.getElementById("categoryResult").innerHTML='<p class="loading-message">Fehler beim Laden von Podcasts. Bitte probiere es später nochmal.</p>'}l()}function d(){let e=document.getElementById("loadingAnimation");e?(e.style.animationPlayState="running",e.style.display="flex"):console.error("Loading animation element not found.")}function l(){let e=document.getElementById("loadingAnimation");e?e.style.animationPlayState="paused":console.error("Loading animation element not found.")}navigator.language||navigator.userLanguage,document.addEventListener("DOMContentLoaded",function(){console.log("onLoad Function"),n(),document.getElementById("podcast-list").innerHTML='<p class="loading-message">Empfohlene Podcast werden geladen...</p>',a();let o=document.getElementById("search-title");o?o.addEventListener("keydown",function(e){"Enter"===e.key&&function(){let e=document.getElementById("search-title").value;document.getElementById("search").innerHTML='<p class="loading-message">Suche läuft...',t(e,0)}()}):console.error("Search input field not found");let d=JSON.parse(localStorage.getItem("favorites"))||[];console.log(d),0===d.length?document.getElementById("newestEpisodes").innerHTML="":d.forEach(t=>{e(t)})});
//# sourceMappingURL=index.b2f98f9c.js.map
