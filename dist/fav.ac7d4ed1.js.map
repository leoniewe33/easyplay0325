{"mappings":"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","sources":["scripts/favourites.js"],"sourcesContent":["//Funktionalität der Navigation\r\ndocument.getElementById('menuButton').addEventListener('click', function() {\r\n    document.body.classList.toggle('drawer-open');\r\n});\r\n  document.addEventListener('click', function(event) {\r\n    var drawer = document.getElementById('drawer');\r\n    var menuButton = document.getElementById('menuButton');\r\n\r\n    if(!drawer.contains(event.target) && !menuButton.contains(event.target)) {\r\n        document.body.classList.remove('drawer-open');\r\n    }\r\n});\r\n\r\ndocument.getElementById('searchButton').addEventListener('click', function() {\r\n    var searchBar = document.getElementById('podcast-search');\r\n    searchBar.classList.toggle('visible');\r\n    if (searchBar.classList.contains('visible')) {\r\n    document.getElementById('search-title').focus();\r\n    }       \r\n });\r\n\r\n//Favoriten hinzufügen --> im Local Cache speichern\r\nfunction addFavourite() {\r\n    console.log(\"favourite\");\r\n    const podcastId = getQueryParams().id; \r\n    \r\n    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\r\n    \r\n    if (!favorites.includes(podcastId)) {\r\n        favorites.push(podcastId);\r\n        localStorage.setItem('favorites', JSON.stringify(favorites));\r\n        alert(\"Podcast wurde zu den Favoriten hinzugefügt!\");\r\n    } else {\r\n        removeFavourite(podcastId)\r\n    }\r\n}\r\n\r\n//Favorite löschen --> aus dem Local Cache entfernen, dabei wird der Local Cache ohne den jeweiligen Podcast kopiert und dann ersetzt\r\nfunction removeFavourite(podcastId) {\r\n    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\r\n    favorites = favorites.filter(id => id !== podcastId);\r\n    localStorage.setItem('favorites', JSON.stringify(favorites));\r\n\r\n    alert(\"Podcast wurde aus den Favoriten entfernt!\");\r\n}\r\n\r\n\r\n\r\n // Alle Funktion, die beim Laden der Seite aufgerufen werden, dabei werden die Favoriten aus dem Local Cache geladen und jedes Element einzeln eingefügt\r\n document.addEventListener('DOMContentLoaded', function() {\r\n    console.log(\"onLoad Function\");\r\n    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\r\n    console.log(favorites)\r\n    favorites.forEach(element => {\r\n        console.log(element);\r\n        insertFavourite(element);\r\n    });\r\n    if(favorites == 0)\r\n    {\r\n        var div = document.getElementById(\"fav-div\");\r\n        div.innerHTML = \"Du hast noch keine Favoriten\"\r\n    }\r\n});\r\n\r\n//Das Div der Favoriten mit dem Podcast ausfüllen\r\nasync function insertFavourite(id) {\r\n    showLoadingAnimation();\r\nvar div = document.getElementById(\"fav-div\");\r\nlet url = new URL('https://api.fyyd.de/0.2/podcast');\r\nurl.searchParams.append(\"podcast_id\", id);\r\nconsole.log('URL:', url.href);\r\ntry {\r\nconst response = await fetch(url);\r\nconst data = await response.json();\r\nconsole.log(data.data.title);\r\n\r\nconst podcastDiv = document.createElement('div');\r\nconst podcastImage = document.createElement('img');\r\nconst podcastTitle = document.createElement('h4');\r\nconst removeBtn = document.createElement('input');\r\nconst link = document.createElement(\"a\");\r\nremoveBtn.setAttribute(\"type\", \"button\");\r\nremoveBtn.setAttribute(\"value\", \"Entfernen\");\r\nremoveBtn.className = \"button-remove\";\r\n\r\n//remove Btn Click Funktion\r\nremoveBtn.onclick = function(event) {\r\nevent.preventDefault();\r\nremoveFavourite(id);\r\npodcastDiv.remove();\r\nlocation.reload(); // Aktualisiert die Seite\r\n};\r\nlink.href = `podcastDash.html?id=${encodeURIComponent(id)}`;\r\n//podcastLink.target = \"_blank\"; besser fürs Abspielen im Hintergrund aber nervig, da zu viele Tabs\r\npodcastTitle.innerHTML = data.data.title;\r\npodcastImage.src = data.data.layoutImageURL;\r\npodcastDiv.appendChild(podcastImage);\r\npodcastDiv.appendChild(podcastTitle);\r\npodcastDiv.appendChild(removeBtn);\r\nlink.appendChild(podcastDiv)\r\ndiv.appendChild(link);\r\nhideLoadingAnimation();\r\n\r\n}\r\ncatch (error) {\r\nconsole.error('Error fetching recommended podcasts:', error);\r\ndocument.getElementById('podcast-list').innerHTML = '<p class=\"loading-message\">Fehler beim Laden empfohlener Podcasts. Bitte probiere es später nochmal.</p>';\r\n}\r\n}\r\n\r\n//entfernen eines Favoriten\r\nfunction removeFavourite(podcastId) {\r\nlet favorites = JSON.parse(localStorage.getItem('favorites')) || [];\r\nconsole.log(podcastId);\r\nfavorites = favorites.filter(id => id !== podcastId);\r\nlocalStorage.setItem('favorites', JSON.stringify(favorites));\r\n}\r\n   document.getElementById('closeButton').addEventListener('click', function() {\r\n    document.body.classList.remove('drawer-open');\r\n });\r\n\r\n //Funktionen für die Animationen\r\n function showLoadingAnimation() {\r\nconst loadingAnimation = document.getElementById('loadingAnimation');\r\nif (loadingAnimation) {\r\nloadingAnimation.style.animationPlayState = 'running'; // Start the animation\r\nloadingAnimation.style.display = 'flex'; // Ensure it's visible\r\n} else {\r\nconsole.error(\"Loading animation element not found.\");\r\n}\r\n}\r\n\r\nfunction hideLoadingAnimation() {\r\nconst loadingAnimation = document.getElementById('loadingAnimation');\r\nif (loadingAnimation) {\r\nloadingAnimation.style.animationPlayState = 'paused'; // Pause the animation\r\n} else {\r\nconsole.error(\"Loading animation element not found.\");\r\n}\r\n}\r\n"],"names":[],"version":3,"file":"fav.ac7d4ed1.js.map","sourceRoot":"/__parcel_source_root/"}