{"mappings":"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","sources":["src/js/favourites.js"],"sourcesContent":["//Funktionalität der Navigation\ndocument.getElementById('menuButton').addEventListener('click', function() {\n    document.body.classList.toggle('drawer-open');\n});\n  document.addEventListener('click', function(event) {\n    var drawer = document.getElementById('drawer');\n    var menuButton = document.getElementById('menuButton');\n\n    if(!drawer.contains(event.target) && !menuButton.contains(event.target)) {\n        document.body.classList.remove('drawer-open');\n    }\n});\n\ndocument.getElementById('searchButton').addEventListener('click', function() {\n    var searchBar = document.getElementById('podcast-search');\n    searchBar.classList.toggle('visible');\n    if (searchBar.classList.contains('visible')) {\n    document.getElementById('search-title').focus();\n    }       \n });\n\n//Favoriten hinzufügen --> im Local Cache speichern\nfunction addFavourite() {\n    console.log(\"favourite\");\n    const podcastId = getQueryParams().id; \n    \n    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    \n    if (!favorites.includes(podcastId)) {\n        favorites.push(podcastId);\n        localStorage.setItem('favorites', JSON.stringify(favorites));\n        alert(\"Podcast wurde zu den Favoriten hinzugefügt!\");\n    } else {\n        removeFavourite(podcastId)\n    }\n}\n\n\n\n\n\n // Alle Funktion, die beim Laden der Seite aufgerufen werden, dabei werden die Favoriten aus dem Local Cache geladen und jedes Element einzeln eingefügt\n document.addEventListener('DOMContentLoaded', function() {\n    console.log(\"onLoad Function\");\n    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    console.log(favorites)\n    favorites.forEach(element => {\n        console.log(element);\n        insertFavourite(element);\n    });\n    if(favorites == 0)\n    {\n        var div = document.getElementById(\"fav-div\");\n        div.innerHTML = \"Du hast noch keine Favoriten\"\n    }\n});\n\n//Das Div der Favoriten mit dem Podcast ausfüllen\nasync function insertFavourite(id) {\n    showLoadingAnimation();\nvar div = document.getElementById(\"fav-div\");\nlet url = new URL('https://api.fyyd.de/0.2/podcast');\nurl.searchParams.append(\"podcast_id\", id);\nconsole.log('URL:', url.href);\ntry {\nconst response = await fetch(url);\nconst data = await response.json();\nconsole.log(data.data.title);\n\nconst podcastDiv = document.createElement('div');\nconst podcastImage = document.createElement('img');\nconst podcastTitle = document.createElement('h4');\nconst removeBtn = document.createElement('input');\nconst link = document.createElement(\"a\");\nremoveBtn.setAttribute(\"type\", \"button\");\nremoveBtn.setAttribute(\"value\", \"Entfernen\");\nremoveBtn.className = \"button-remove\";\n\n//remove Btn Click Funktion\nremoveBtn.onclick = function(event) {\nevent.preventDefault();\nremoveFavourite(id);\npodcastDiv.remove();\nlocation.reload(); // Aktualisiert die Seite\n};\nlink.href = `podcastDash.html?id=${encodeURIComponent(id)}`;\n//podcastLink.target = \"_blank\"; besser fürs Abspielen im Hintergrund aber nervig, da zu viele Tabs\npodcastTitle.innerHTML = data.data.title;\npodcastImage.src = data.data.layoutImageURL;\npodcastDiv.appendChild(podcastImage);\npodcastDiv.appendChild(podcastTitle);\npodcastDiv.appendChild(removeBtn);\nlink.appendChild(podcastDiv)\ndiv.appendChild(link);\nhideLoadingAnimation();\n\n}\ncatch (error) {\nconsole.error('Error fetching recommended podcasts:', error);\ndocument.getElementById('podcast-list').innerHTML = '<p class=\"loading-message\">Fehler beim Laden empfohlener Podcasts. Bitte probiere es später nochmal.</p>';\n}\n}\n\n//entfernen eines Favoriten\nfunction removeFavourite(podcastId) {\nlet favorites = JSON.parse(localStorage.getItem('favorites')) || [];\nconsole.log(podcastId);\nfavorites = favorites.filter(id => id !== podcastId);\nlocalStorage.setItem('favorites', JSON.stringify(favorites));\n}\n   document.getElementById('closeButton').addEventListener('click', function() {\n    document.body.classList.remove('drawer-open');\n });\n\n\n\n //Funktionen für die Animationen\n function showLoadingAnimation() {\nconst loadingAnimation = document.getElementById('loadingAnimation');\nif (loadingAnimation) {\nloadingAnimation.style.animationPlayState = 'running'; // Start the animation\nloadingAnimation.style.display = 'flex'; // Ensure it's visible\n} else {\nconsole.error(\"Loading animation element not found.\");\n}\n}\n\nfunction hideLoadingAnimation() {\nconst loadingAnimation = document.getElementById('loadingAnimation');\nif (loadingAnimation) {\nloadingAnimation.style.animationPlayState = 'paused'; // Pause the animation\n} else {\nconsole.error(\"Loading animation element not found.\");\n}\n}\n\nwindow.addFavourite = addFavourite;\n\n"],"names":[],"version":3,"file":"fav.1c6562ea.js.map","sourceRoot":"/__parcel_source_root/"}